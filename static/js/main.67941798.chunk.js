(this["webpackJsonpmy-web"]=this["webpackJsonpmy-web"]||[]).push([[0],{105:function(e,t,r){var n=r(6),a=r(14),o=r(35),c=r(36);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var u={Projection:r(37)},l=function(){"use strict";function e(t,r){o(this,e),this.create=this.create.bind({storage:t,dependencies:s({},u,{},r)})}return c(e,[{key:"create",value:function(e){var t,r,a;return n.async((function(o){for(;;)switch(o.prev=o.next){case 0:return t=this.dependencies.Projection,r={projection:null},e.onStart(),o.prev=3,a=new t(s({},e.projection,{entries:[]})),o.next=7,n.awrap(this.storage.createProjection(a));case 7:r.projection=o.sent,o.next=13;break;case 10:o.prev=10,o.t0=o.catch(3),e.onError(o.t0);case 13:return e.onEnd(),o.abrupt("return",r);case 15:case"end":return o.stop()}}),null,this,[[3,10]])}}]),e}();e.exports=l},106:function(e,t,r){var n=r(60),a=r(6),o=r(14),c=r(35),i=r(36);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var l={Entry:r(47),Projection:r(37),Scenario:r(108)},p=function(){"use strict";function e(t,r){c(this,e),this.read=this.read.bind({storage:t,dependencies:u({},l,{},r)})}return i(e,[{key:"read",value:function(e){var t;return a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t={scenario:null},e.onStart(),r.prev=2,r.next=5,a.awrap(f.call(this,e));case 5:t.scenario=r.sent,r.next=11;break;case 8:r.prev=8,r.t0=r.catch(2),e.onError(r.t0);case 11:return e.onEnd(),r.abrupt("return",t);case 13:case"end":return r.stop()}}),null,this,[[2,8]])}}]),e}();function f(e){var t,r,n;return a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return t=this.dependencies.Scenario,o.next=3,a.awrap(b.call(this,e.projectionId));case 3:return r=o.sent,n=new t({projection:r}),e.onSuccess(n),o.abrupt("return",n);case 7:case"end":return o.stop()}}),null,this)}function b(e){var t,r,o,c,i,s,l;return a.async((function(p){for(;;)switch(p.prev=p.next){case 0:return t=this.dependencies,r=t.Projection,o=t.Entry,p.next=3,a.awrap(this.storage.readProjectionById(e));case 3:return c=p.sent,i=c.entries,s=n(c,["entries"]),l=new r(u({},s,{entries:i.map((function(e){return new o(e)}))})),p.abrupt("return",l);case 8:case"end":return p.stop()}}),null,this)}e.exports=p},108:function(e,t,r){var n=r(109),a=r(14);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e){var t=e.reduce((function(e,t){var r=t.value;return t.isDisabled?e:e+r}),0);return{total:t,entries:e.reduce((function(e,r){return[].concat(n(e),[c({},r,{share:r.isDisabled?0:r.share(t)})])}),[])}}e.exports=function e(t){var r=t.projection;return Object.assign(this,{projectionId:r.id,clone:function(r){return new e(c({},t,{},r))}}),Object.defineProperty(this,"incoming",{get:function(){return i(r.incoming)}}),Object.defineProperty(this,"expenses",{get:function(){return i(r.expenses)}}),Object.defineProperty(this,"difference",{get:function(){return this.incoming.total+this.expenses.total}}),Object.freeze(this)}},113:function(e,t,r){var n=r(60),a=r(53),o=r(6),c=r(14),i=r(35),s=r(36);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p={Entry:r(47),Projection:r(37)},f=function(){"use strict";function e(t,r){i(this,e),this.create=this.create.bind({storage:t,dependencies:l({},p,{},r)})}return s(e,[{key:"create",value:function(e){var t;return o.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t={projection:null,entry:null},e.onStart(),r.prev=2,r.next=5,o.awrap(b.call(this,e));case 5:t=r.sent,r.next=11;break;case 8:r.prev=8,r.t0=r.catch(2),e.onError(r.t0);case 11:return e.onEnd(),r.abrupt("return",t);case 13:case"end":return r.stop()}}),null,this,[[2,8]])}}]),e}();function b(e){var t,r,n,c,i,s;return o.async((function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.projectionId,r=e.entry,u.next=3,o.awrap(Promise.all([h.call(this,t),d.call(this,r)]));case 3:return n=u.sent,c=a(n,2),i=c[0],s=c[1],i.addEntry(s),u.next=10,o.awrap(this.storage.updateProjection(i));case 10:return u.abrupt("return",{projection:i,entry:s});case 11:case"end":return u.stop()}}),null,this)}function h(e){var t,r,a,c,i,s,u;return o.async((function(p){for(;;)switch(p.prev=p.next){case 0:if(e){p.next=2;break}throw new Error("Cannot create an entry without projectionId");case 2:return t=this.dependencies,r=t.Projection,a=t.Entry,p.next=5,o.awrap(this.storage.readProjectionById(e));case 5:return c=p.sent,i=c.entries,s=n(c,["entries"]),u=new r(l({},s,{entries:i.map((function(e){return new a(e)}))})),p.abrupt("return",u);case 10:case"end":return p.stop()}}),null,this)}function d(e){var t,r,n;return o.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(e){a.next=2;break}throw new Error("Cannot create an entry without its data");case 2:return t=this.dependencies.Entry,r=new t(e),a.next=6,o.awrap(this.storage.createEntry(r));case 6:return n=a.sent,a.abrupt("return",n);case 8:case"end":return a.stop()}}),null,this)}e.exports=f},114:function(e,t,r){var n=r(6),a=r(14),o=r(35),c=r(36);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var u={Entry:r(47),Projection:r(37)},l=function(){"use strict";function e(t,r){o(this,e),this.update=this.update.bind({storage:t,dependencies:s({},u,{},r)})}return c(e,[{key:"update",value:function(e){var t;return n.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t={entry:null},e.onStart(),r.prev=2,r.next=5,n.awrap(p.call(this,e));case 5:t=r.sent,r.next=11;break;case 8:r.prev=8,r.t0=r.catch(2),e.onError(r.t0);case 11:return e.onEnd(),r.abrupt("return",t);case 13:case"end":return r.stop()}}),null,this,[[2,8]])}}]),e}();function p(e){var t,r,a;return n.async((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.entryId,r=e.payload,o.next=3,n.awrap(this.storage.updateEntry(s({id:t},r)));case 3:return a=o.sent,o.abrupt("return",{entry:a});case 5:case"end":return o.stop()}}),null,this)}e.exports=l},115:function(e,t,r){},118:function(e,t,r){},119:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(9),c=r.n(o),i=(r(80),r(17)),s=r(61),u=r.n(s),l=r(29),p=r(25),f=r(6),b=r.n(f),h=function(){var e=JSON.parse(localStorage.getItem("my-money/app/nextEntryId")||0)+1;return localStorage.setItem("my-money/app/nextEntryId",e),e},d={read:function(e){var t,r,n;return b.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.id,a.next=3,b.a.awrap(this.readAll());case 3:if(r=a.sent,n=r[t]){a.next=7;break}return a.abrupt("return");case 7:return a.abrupt("return",Object.assign({},n));case 8:case"end":return a.stop()}}),null,this)},create:function(e){var t,r;return b.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=Object(p.a)({},e,{id:h()}),n.next=3,b.a.awrap(this.readAll());case 3:if(!(r=n.sent)[t.id]){n.next=6;break}return n.abrupt("return",this.create(e));case 6:return r[t.id]=t,localStorage.setItem("my-money/entries",JSON.stringify(r)),n.abrupt("return",t);case 9:case"end":return n.stop()}}),null,this)},readAll:function(){var e;return b.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e=localStorage.getItem("my-money/entries")||"{}",t.abrupt("return",JSON.parse(e));case 2:case"end":return t.stop()}}))},update:function(e){var t,r,n,a,o;return b.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.id,r=Object(l.a)(e,["id"]),c.next=3,b.a.awrap(this.read({id:t}));case 3:if(n=c.sent){c.next=6;break}return c.abrupt("return");case 6:return c.next=8,b.a.awrap(this.readAll());case 8:return a=c.sent,o=Object(p.a)({},n,{},r,{id:t}),a[t]=o,localStorage.setItem("my-money/entries",JSON.stringify(a)),c.abrupt("return",o);case 13:case"end":return c.stop()}}),null,this)}},y=r(48),O={read:function(e){var t,r,n;return b.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.id,a.next=3,b.a.awrap(this.readAll());case 3:if(r=a.sent,n=r[t]){a.next=7;break}return a.abrupt("return");case 7:return a.abrupt("return",Object.assign({},n));case 8:case"end":return a.stop()}}),null,this)},update:function(e){var t,r,n,a,o;return b.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.id,r=e.incoming,n=e.expenses,c.next=3,b.a.awrap(this.read({id:t}));case 3:if(a=c.sent){c.next=6;break}return c.abrupt("return");case 6:return a.entries=[].concat(Object(y.a)(r),Object(y.a)(n)).map((function(e){return e.id})),c.next=9,b.a.awrap(this.readAll());case 9:(o=c.sent)[t]=a,localStorage.setItem("my-money/projections",JSON.stringify(o));case 12:case"end":return c.stop()}}),null,this)},readAll:function(){var e;return b.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e=localStorage.getItem("my-money/projections")||"{}",t.abrupt("return",JSON.parse(e));case 2:case"end":return t.stop()}}))},create:function(e){var t,r,n;return b.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t=Date.now(),r=Object(p.a)({},e,{id:btoa(t),timestamp:t,entries:[]}),a.next=4,b.a.awrap(this.readAll());case 4:if(!(n=a.sent)[r.id]){a.next=7;break}return a.abrupt("return",this.create(e));case 7:return n[r.id]=r,localStorage.setItem("my-money/projections",JSON.stringify(n)),a.abrupt("return",r);case 10:case"end":return a.stop()}}),null,this)}},v=r(39),g=r(16),j=r(40),m=r(41),w=r(7),E=r(26),x=function(){function e(t){var r=this,n=t.storage,a=t.notifier,o=t.modules;Object(j.a)(this,e),this.storage=n,this.notifier=a,this.start=this.start.bind(this),this.modules=Object.entries(o).reduce((function(e,t){var n=Object(g.a)(t,2),a=n[0],o=n[1];return Object(p.a)({},e,Object(v.a)({},a,new o(r)))}),{})}return Object(m.a)(e,[{key:"start",value:function(){var e;return b.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return this.isStarting=!0,this.hasStartingFailure=!1,t.prev=2,t.next=5,b.a.awrap(this.storage.init());case 5:return e=Object.values(this.modules).map((function(e){return e.start()})),t.next=8,b.a.awrap(Promise.all(e));case 8:t.next=15;break;case 10:t.prev=10,t.t0=t.catch(2),this.hasStartingFailure=!0,console.log("error",t.t0),E.NotificationManager.error("Try again later","Initializing app failed",5e3);case 15:this.isStarting=!1;case 16:case"end":return t.stop()}}),null,this,[[2,10]])}}]),e}();Object(w.h)(x,{isStarting:w.m,hasStartingFailure:w.m,start:w.d});var P=x,S=r(62),D=r.n(S),k=r(63),C=r.n(k),I=r(64),F=r.n(I),N=r(65),A=r.n(N),L=function(){function e(t){Object(j.a)(this,e),this.app=t;var r=new F.a(this.app).create,n=new A.a(this.app).update;this.handleEntryCreation=this.handleEntryCreation.bind(this,r),this.handleToggleEntryDisabled=this.handleToggleEntryDisabled.bind(this,n)}return Object(m.a)(e,[{key:"start",value:function(){var e;return b.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return this.isLoading=!0,t.next=3,b.a.awrap(_.call(this));case 3:return e=t.sent,t.next=6,b.a.awrap(M.call(this,e));case 6:this.isLoading=!1;case 7:case"end":return t.stop()}}),null,this)}},{key:"handleEntryCreation",value:function(e,t){var r,n=this;return b.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(this.scenario){a.next=2;break}return a.abrupt("return");case 2:return r=function r(){return b.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,b.a.awrap(e({onStart:Function.prototype,onError:function(e){E.NotificationManager.error("Click here to retry","Creating entry failed",5e3,r,!0),console.log(e)},onEnd:Function.prototype,projectionId:n.scenario.projectionId,entry:t}));case 2:return a.next=4,b.a.awrap(n.start());case 4:case"end":return a.stop()}}))},a.next=5,b.a.awrap(r());case 5:case"end":return a.stop()}}),null,this)}},{key:"handleToggleEntryDisabled",value:function(e,t){return b.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,b.a.awrap(e({onStart:Function.prototype,onError:function(e){E.NotificationManager.error("Toggling failed","Toggling failed failed",5e3),console.log(e)},onEnd:Function.prototype,entryId:t.id,payload:{isDisabled:!t.isDisabled}}));case 2:return r.next=4,b.a.awrap(this.start());case 4:case"end":return r.stop()}}),null,this)}},{key:"incoming",get:function(){return this.scenario?this.scenario.incoming:{total:0,entries:[]}}},{key:"expenses",get:function(){return this.scenario?this.scenario.expenses:{total:0,entries:[]}}},{key:"difference",get:function(){return this.scenario?this.scenario.difference:0}}]),e}();function _(){var e,t,r,n,a,o;return b.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(e=this.app.storage.projections,t=void 0===e?[]:e,r=Object(g.a)(t,1),!(n=r[0])){c.next=4;break}return c.abrupt("return",n);case 4:return c.next=6,b.a.awrap(T.call(this));case 6:return a=c.sent,o=a.projection,c.abrupt("return",o);case 9:case"end":return c.stop()}}),null,this)}function M(e){var t,r,n,a;return b.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return t=new C.a(this.app),r=t.read,o.next=3,b.a.awrap(r({onStart:Function.prototype,onError:function(e){return console.log("scenario",e)},onEnd:Function.prototype,onSuccess:Function.prototype,projectionId:e.id}));case 3:n=o.sent,a=n.scenario,this.scenario=a;case 6:case"end":return o.stop()}}),null,this)}function T(){var e,t;return b.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e=new D.a(this.app),t=e.create,r.abrupt("return",t({projection:{title:"Standard"},onStart:Function.prototype,onError:function(e){throw e},onEnd:Function.prototype}));case 2:case"end":return r.stop()}}),null,this)}Object(w.h)(L,{scenario:w.m,isLoading:w.m,start:w.d,handleEntryCreation:w.d});var U=L,J=new P({storage:new u.a({entry:d,projection:O}),notifier:{onError:function(e){console.log("error",e)}},modules:{financialScenario:U}});J.start();var B={application:J,financialScenario:J.modules.financialScenario},W=(r(115),r(116),Intl&&Intl.NumberFormat?new Intl.NumberFormat:{format:function(e){return e.toLocaleString?e.toLocaleString():e.toFixed(2)}});var z=function e(t){var r=t.value;if(!Number.isFinite(r))return a.a.createElement(e,{value:0});var n=["financial__money"],o=W.format(Math.abs(r)),c=r>=0?"$":"($)";return r<0&&n.push("financial__money--negative"),a.a.createElement("td",{className:n.join(" ")},c,o)};var K=function e(t){var r=t.value;if(!Number.isFinite(r))return a.a.createElement(e,{value:0});var n=["financial__percentage"],o=parseInt((100*r).toFixed(2),10);return r<0&&n.push("financial__percentage--negative"),a.a.createElement("td",{className:n.join(" ")},W.format(o)," %")};var V=function(e){var t=e.id,r=e.source,n=e.value,o=e.isDisabled,c=e.share,i=e.onToggleDisabled,s=["financial__entry"];return o&&s.push("financial__entry--disabled"),a.a.createElement("tr",{className:s.join(" ")},a.a.createElement("td",null,r),a.a.createElement(z,{value:Math.abs(n)}),a.a.createElement(K,{value:c}),a.a.createElement("td",null,a.a.createElement("input",{type:"checkbox",checked:o,onChange:function(){return i({id:t,isDisabled:o})}})))},$=Object(i.a)((function(e){var t=e.model,r=Object(l.a)(e,["model"]);return a.a.createElement(V,Object.assign({},r,{onToggleDisabled:t.handleToggleEntryDisabled}))})),R=function(e){return a.a.createElement($,Object.assign({model:B.financialScenario},e))};function G(e){var t=e.entries,r=t.entries,n=t.total,o=e.name;return a.a.createElement(a.a.Fragment,null,r.map((function(e){return a.a.createElement(R,Object.assign({key:e.id},e))})),a.a.createElement("tr",null,a.a.createElement("th",{colSpan:"3"},o),a.a.createElement(z,{value:Math.abs(n)})))}var Y=function(e){var t=e.incoming,r=e.expenses,n=e.difference;return a.a.createElement("table",{className:"financial__values"},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",{colSpan:"4"},"Fixed Values")),a.a.createElement("tr",null,a.a.createElement("th",null,"Source"),a.a.createElement("th",null,"Value"),a.a.createElement("th",null,"Share"),a.a.createElement("th",null,"Disabled?"))),a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("th",{colSpan:"4"},"Incoming")),a.a.createElement(G,{entries:t,name:"In"})),a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("th",{colSpan:"4"},"Expenses")),a.a.createElement(G,{entries:r,name:"Out"})),a.a.createElement("tfoot",null,a.a.createElement("tr",null,a.a.createElement("th",{colSpan:"2"},"Yours"),a.a.createElement(z,{value:n}),a.a.createElement(K,{value:n/t.total}))))},H=Object(i.a)((function(e){var t=e.model;return a.a.createElement(Y,{incoming:t.incoming,expenses:t.expenses,difference:t.difference,onCreateEntry:t.handleEntryCreation})})),q=function(){return a.a.createElement(H,{model:B.financialScenario})},Q=r(160),X=r(159),Z=r(162),ee=r(158),te=r(156),re=r(157),ne=r(155);var ae=function(e){var t=e.isInvalid,r=e.source,o=e.value,c=e.onChangeSource,i=e.onChangeValue,s=e.onClose,u=e.onCreate,l=e.onKeyPress,p=Object(n.useState)("MY$ ".concat(parseFloat((100*Math.random()).toFixed(2)))),f=Object(g.a)(p,1)[0];return a.a.createElement(Z.a,{open:!0,onClose:s,"aria-labelledby":"form-dialog-title"},a.a.createElement(ne.a,null,"Create Entry"),a.a.createElement(te.a,null,a.a.createElement(re.a,null,"An entry is either an incoming or expense you have periodically."),a.a.createElement(X.a,{autoFocus:!0,margin:"dense",id:"source",label:"Where is the money coming from / going to?",type:"input",fullWidth:!0,placeholder:"salary, rent, etc",value:r.input,onChange:c,error:!!r.error,helperText:r.error,onKeyPress:l}),a.a.createElement(X.a,{margin:"dense",id:"value",label:"How much?",type:"number",fullWidth:!0,placeholder:f,value:o.input,onChange:i,error:!!o.error,helperText:o.error||"Always use the same currency and up to two decimal places",onKeyPress:l})),a.a.createElement(ee.a,null,a.a.createElement(Q.a,{onClick:u,color:"primary",disabled:t},"Create"),a.a.createElement(Q.a,{onClick:s,color:"primary"},"Close")))},oe={input:"",error:null};function ce(e){return e.length<3?"Use at least 3 characters to describe the source":e.length>20?"Use at most 20 characters to describe the source":null}function ie(e){var t=parseFloat(e);return Number.isFinite(t)&&0!==t?null:"Use a non-neutral number"}var se=function(e){var t=e.onClose,r=e.onCreateEntry,o=Object(n.useState)(oe),c=Object(g.a)(o,2),i=c[0],s=c[1],u=Object(n.useState)(oe),l=Object(g.a)(u,2),p=l[0],f=l[1],h=!(!ce(i.input)&&!ie(p.input)),d=function(){var e;return b.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!h){t.next=2;break}return t.abrupt("return");case 2:return e={source:i.input,value:p.input},i.target.focus(),s(oe),f(oe),t.next=8,b.a.awrap(r(e));case 8:case"end":return t.stop()}}))};return a.a.createElement(ae,{isInvalid:h,source:i,value:p,onChangeSource:function(e){var t=e.target,r=t.value,n=ce(r);s({input:r,error:n,target:t})},onChangeValue:function(e){var t=e.target.value,r=ie(t);f({input:t,error:r})},onKeyPress:function(e){"Enter"===e.key&&d()},onClose:t,onCreate:d})},ue=Object(i.a)((function(e){var t=e.model,r=e.onClose;return a.a.createElement(se,{onCreateEntry:t.handleEntryCreation,onClose:r})})),le=function(e){var t=e.onClose;return a.a.createElement(ue,{model:B.financialScenario,onClose:t})};r(118);var pe=function(e){var t=e.isLoading,r=Object(n.useState)(!1),o=Object(g.a)(r,2),c=o[0],i=o[1];return t?a.a.createElement("span",null,"LOADING..."):a.a.createElement(a.a.Fragment,null,a.a.createElement(q,null),a.a.createElement("button",{className:"financial__create-button",onClick:function(){return i(!0)}},"Create Entry"),c&&a.a.createElement(le,{onClose:function(){return i(!1)}}))},fe=Object(i.a)((function(e){var t=e.model;return a.a.createElement(pe,{isLoading:t.isLoading})})),be=function(){return a.a.createElement(fe,{model:B.financialScenario})};function he(){return a.a.createElement("span",null,"LOADING...")}function de(){return a.a.createElement("p",null,"The app is not working right now",a.a.createElement("br",null),"Retry in a few minutes")}function ye(e){var t=e.projection,r=e.onCreateEntry,n=e.onReadScenario;return a.a.createElement(a.a.Fragment,null,a.a.createElement(be,{projection:t,onCreateEntry:r,onReadScenario:n}))}var Oe=function(e){var t=e.isLoading,r=e.hasLoadingError,n=Object(l.a)(e,["isLoading","hasLoadingError"]),o=t?he:r?de:ye;return a.a.createElement("div",{className:"App"},a.a.createElement(E.NotificationContainer,null),a.a.createElement("main",{className:"App-main"},a.a.createElement(o,n)))},ve=Object(i.a)((function(e){var t=e.app;return a.a.createElement(Oe,{isLoading:t.isStarting,hasLoadingError:t.hasStartingFailure})})),ge=function(){return a.a.createElement(ve,{app:B.application})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(ge,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},37:function(e,t){e.exports=function(e){var t=e.id,r=e.title,n=e.timestamp,a=e.entries;return Object.assign(this,{id:t,title:r,timestamp:n,addEntry:function(e){a.push(e)}}),Object.defineProperty(this,"incoming",{get:function(){return a.filter((function(e){return e.value>0}))}}),Object.defineProperty(this,"expenses",{get:function(){return a.filter((function(e){return e.value<0}))}}),Object.freeze(this)}},47:function(e,t){e.exports=function(e){var t=e.id,r=e.source,n=e.value,a=e.isDisabled,o=void 0!==a&&a;return Object.assign(this,{id:t,source:r,value:parseFloat(n),isDisabled:o,share:function(e){if(Math.abs(e)<Math.abs(n))throw new Error("Share cannot be bigger than total");return n/e}}),Object.defineProperty(this,"errors",{get:function(){var e=[];return n&&("number"===typeof n||Number.isNaN(n))||e.push(new Error("Invalid entry value")),e}}),Object.freeze(this)}},61:function(e,t,r){var n=r(53),a=r(6),o=r(14);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var i={storages:{entry:r(87),projection:r(88)}};function s(e,t){var r=Object.entries(t).map((function(t){var r,o,c,i,s;return a.async((function(u){for(;;)switch(u.prev=u.next){case 0:if(r=n(t,2),o=r[0],c=r[1],i=e[o]){u.next=4;break}throw new Error("A drive for ".concat(o," was not found"));case 4:return u.next=6,a.awrap(i.readAll());case 6:return s=u.sent,u.abrupt("return",new c(s,e));case 8:case"end":return u.stop()}}))}));return Promise.all(r)}function u(e){var t=this;Object.assign(this,e),Object.entries(Object.getOwnPropertyDescriptors(e)).filter((function(e){var t=n(e,2);t[0];return"function"===typeof t[1].get})).forEach((function(e){var r=n(e,2),a=r[0],o=r[1];return Object.defineProperty(t,a,o)}))}e.exports=function(e,t){var r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},i,{},t).storages;return{init:function(){return a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.awrap(s(e,r));case 2:t.sent.forEach(u,this);case 4:case"end":return t.stop()}}),null,this)}}}},62:function(e,t,r){var n=r(14);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var o={UseCase:r(105)};e.exports=function(e,t){var r=new(0,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},o,{},t).UseCase)(e.storage);Object.assign(this,{create:function(e){try{if(!e.projection)throw new Error("Projection has not been defined");if(!e.projection.title)throw new Error("Projection cannot be created without a title");return r.create(e)}catch(t){e.onError(t)}}})}},63:function(e,t,r){var n=r(14);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var o={UseCase:r(106)};e.exports=function(e,t){var r=new(0,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},o,{},t).UseCase)(e.storage);Object.assign(this,{read:function(e){try{if(!e.projectionId)throw new Error("Projection has not id to be identified");return r.read(e)}catch(t){e.onError(t)}}})}},64:function(e,t,r){var n=r(14);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var o={UseCase:r(113)};e.exports=function(e,t){var r=new(0,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},o,{},t).UseCase)(e.storage);Object.assign(this,{create:function(e){try{if(!e.projectionId)throw new Error("Projection has not id to be identified");if(!e.entry)throw new Error("Entry has not been defined");if(!e.entry.source)throw new Error("Entry cannot be created without a source");if(!e.entry.value)throw new Error("Entry cannot be created without a value");return r.create(e)}catch(t){e.onError(t)}}})}},65:function(e,t,r){var n=r(14);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var o={UseCase:r(114)};e.exports=function(e,t){var r=new(0,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},o,{},t).UseCase)(e.storage);Object.assign(this,{update:function(e){try{if(!e.entryId)throw new Error("Entry has not id to be identified");return r.update(e)}catch(t){e.onError(t)}}})}},75:function(e,t,r){e.exports=r(119)},80:function(e,t,r){},87:function(e,t,r){var n=r(6),a=r(14);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=e,c=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t).entry;return Object.defineProperty(this,"entries",{get:function(){return Object.values(r)}}),Object.assign(this,{readEntryById:function(e){var t;return n.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(e){a.next=2;break}throw new Error("Missing ID when reading by ID");case 2:return a.next=4,n.awrap(c.read({id:e}));case 4:return t=a.sent,r[e]=t,a.abrupt("return",t);case 7:case"end":return a.stop()}}))},createEntry:function(e){var t;return n.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.awrap(c.create(e));case 2:return t=a.sent,r[t.id]=t,a.abrupt("return",t);case 5:case"end":return a.stop()}}))},updateEntry:function(e){var t;return n.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.awrap(c.update(e));case 2:return t=a.sent,r[e.id]=t,a.abrupt("return",t);case 5:case"end":return a.stop()}}))}})}},88:function(e,t,r){var n=r(6),a=r(14);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=e,c=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t).projection;return Object.defineProperty(this,"projections",{get:function(){return Object.values(r)}}),Object.assign(this,{readProjectionById:function(e){var t;return n.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(e){a.next=2;break}throw new Error("Missing ID when reading by ID");case 2:return a.next=4,n.awrap(c.read({id:e}));case 4:if(!(t=a.sent)){a.next=9;break}return a.next=8,n.awrap(Promise.all(t.entries.map(this.readEntryById)));case 8:t.entries=a.sent;case 9:return r[e]=t,a.abrupt("return",t);case 11:case"end":return a.stop()}}),null,this)},updateProjection:function(e){return n.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}throw new Error("Missing projection to update");case 2:if(r[e.id]){t.next=5;break}throw new Error("Unkown projection canot be updated");case 5:return t.next=7,n.awrap(c.update(e));case 7:r[e.id]=e;case 8:case"end":return t.stop()}}))},createProjection:function(e){var t;return n.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.awrap(c.create(e));case 2:return t=a.sent,r[t.id]=t,a.abrupt("return",t);case 5:case"end":return a.stop()}}))}})}}},[[75,1,2]]]);
//# sourceMappingURL=main.67941798.chunk.js.map